---
layout: post
title: ENI
categories: [ network ]
description: 弹性网卡
keywords: network
---

# ENI

ENI - elastic network interface 是VPC中虚拟网卡，它可以跟以下组件做关联：

- 一个主private IP、一个或多个secondary private IP
- 每个private IP上可以绑一个EIP
- 一个Public IP
- 一个或多个安全组
- 一个MAC地址

# SubENi

Sub ENI 是 ENI-Trunking 的产物。

# CastENI

- 借助 DVR 的分布式特性，每个计算节点上都能直接把流量 hash 到目标 ENI。
- 没有“中心化流量入口”，避免了单点瓶颈。
- 本质上是 DVR + ENI Group + Hash-based forwarding。
- 有点类似 ECMP（等价多路径转发），不过这里的“下一跳”不是路由器，而是一组 ENI（绑定在不同 VM 上）